{"remainingRequest":"/home/derek/workspace/VueJsProjects/FinanceAndInvestment/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/derek/workspace/VueJsProjects/FinanceAndInvestment/src/components/Pages/Banks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/derek/workspace/VueJsProjects/FinanceAndInvestment/src/components/Pages/Banks.vue","mtime":1648670060755},{"path":"/home/derek/workspace/VueJsProjects/FinanceAndInvestment/node_modules/cache-loader/dist/cjs.js","mtime":1648211921485},{"path":"/home/derek/workspace/VueJsProjects/FinanceAndInvestment/node_modules/babel-loader/lib/index.js","mtime":1648211921821},{"path":"/home/derek/workspace/VueJsProjects/FinanceAndInvestment/node_modules/cache-loader/dist/cjs.js","mtime":1648211921485},{"path":"/home/derek/workspace/VueJsProjects/FinanceAndInvestment/node_modules/vue-loader/lib/index.js","mtime":1648211921961}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAndnVleCc7CmltcG9ydCBGaWx0ZXJCYW5rc01vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9QYXJ0cy9GaWx0ZXJCYW5rc01vZGFsJzsKaW1wb3J0IHtnZXREYXRlfSBmcm9tICdAL2hlbHBlcnMnOwppbXBvcnQgVlNlbGVjdCBmcm9tICdAYWxmc25kL3Z1ZS1ib290c3RyYXAtc2VsZWN0JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmFua3MnLAogIGNvbXBvbmVudHM6IHtGaWx0ZXJCYW5rc01vZGFsLCBWU2VsZWN0fSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRTZWFyY2gnLCBmYWxzZSk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaW5pdEJhbmtzJyk7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGJhbmtzOiAnZ2V0QmFua3MnLAogICAgICBiYW5rc0ZpbHRyYXRlVmFsdWU6ICdnZXRCYW5rc0ZpbHRyYXRlVmFsdWUnLAogICAgICBpc1Nob3dGaWx0ZXI6ICdnZXRJc1Nob3dCYW5rc0ZpbHRlcicsCiAgICAgIGlzQmFua3NGaWx0cmF0ZTogJ2lzQmFua3NGaWx0cmF0ZScsCiAgICB9KSwKICAgIHNvcnRhYmxlRmllbGRzKCkgewogICAgICByZXR1cm4gdGhpcy5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLnNvcnRhYmxlKTsKICAgIH0sCiAgICBzb3J0QnlTb3J0OiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWVsZHMuZmluZChmaWVsZCA9PiBmaWVsZC5rZXkgPT09IHRoaXMuc29ydEJ5KTsKICAgICAgfSwKICAgICAgc2V0KHNvcnRCeSkgewogICAgICAgIHRoaXMuc29ydEJ5ID0gc29ydEJ5LmtleTsKICAgICAgfSwKICAgIH0sCiAgICBzb3J0RGVzY1NvcnQ6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnNvcnREaXJlY3Rpb25zLmZpbmQoZGlyZWN0aW9uID0+IHsKICAgICAgICAgIHJldHVybiB0aGlzLnNvcnREZXNjID8gKGRpcmVjdGlvbi5rZXkgPT09ICdkZXNjJykgOiAoZGlyZWN0aW9uLmtleSA9PT0gJ2FzYycpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZXQoc29ydERlc2MpIHsKICAgICAgICB0aGlzLnNvcnREZXNjID0gc29ydERlc2Mua2V5ID09PSAnZGVzYyc7CiAgICAgIH0sCiAgICB9LAogICAgc29ydGVkQmFua3MoKSB7CiAgICAgIHJldHVybiBbLi4udGhpcy5iYW5rc10uc29ydCgoZmlyc3QsIHNlY29uZCkgPT4gewogICAgICAgIGNvbnN0IHNvcnRGbGFnID0gdGhpcy5zb3J0Q29tcGFyZShmaXJzdCwgc2Vjb25kLCB0aGlzLnNvcnRCeSk7CiAgICAgICAgcmV0dXJuICF0aGlzLnNvcnREZXNjID8gc29ydEZsYWcgOiAoc29ydEZsYWcgPT09IC0xID8gMSA6IChzb3J0RmxhZyA9PT0gMSA/IC0xIDogMCkpOwogICAgICB9KTsKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc29ydEJ5OiAnbmFtZScsCiAgICAgIHNvcnREZXNjOiBmYWxzZSwKICAgICAgZmllbGRzOiBbCiAgICAgICAge2tleTogJ25hbWUnLCBsYWJlbDogJ9Cd0LDQt9Cy0LDQvdC40LUnLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAge2tleTogJ3ZhbHVlJywgbGFiZWw6ICfQntGG0LXQvdC60LAg0YHRgtC+0LjQvNC+0YHRgtC4LCDQvNC70L0gVVNEJywgc29ydGFibGU6IHRydWV9LAogICAgICAgIHtrZXk6ICdkYXRlX3ByaWNlJywgbGFiZWw6ICfQlNCw0YLQsCDQvtGG0LXQvdC60LgnLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAge2tleTogJ3JhdGluZycsIGxhYmVsOiAn0JzQtdGB0YLQviDQsiDRgNC10LnRgtC40L3Qs9C1INC90LDQtNC10LbQvdC+0YHRgtC4Jywgc29ydGFibGU6IHRydWV9LAogICAgICAgIHtrZXk6ICdkYXRlX3JhdGluZycsIGxhYmVsOiAn0JTQsNGC0LAg0L7RhtC10L3QutC4Jywgc29ydGFibGU6IHRydWV9LAogICAgICBdLAogICAgICBzb3J0RGlyZWN0aW9uczogWwogICAgICAgIHtrZXk6ICdhc2MnLCBsYWJlbDogJ9Cf0L4g0LLQvtC30YDQsNGB0YLQsNC90LjRjid9LAogICAgICAgIHtrZXk6ICdkZXNjJywgbGFiZWw6ICfQn9C+INGD0LHRi9Cy0LDQvdC40Y4nfSwKICAgICAgXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb2N1c1NlYXJjaCgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaElucHV0JykuZm9jdXMoKTsKICAgIH0sCiAgICB0b2dnbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndG9nZ2xlSXNTaG93QmFua3NGaWx0ZXInKTsKICAgIH0sCiAgICB1cGRhdGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZmlsdHJhdGVCYW5rcycsIHRoaXMuYmFua3NGaWx0cmF0ZVZhbHVlKTsKICAgIH0sCiAgICBjbGVhck5hbWVGaWx0ZXIoKSB7CiAgICAgIHRoaXMuYmFua3NGaWx0cmF0ZVZhbHVlLm5hbWUgPSAnJzsKICAgICAgdGhpcy51cGRhdGVGaWx0ZXIoKTsKICAgIH0sCiAgICBzb3J0Q29tcGFyZShhUm93LCBiUm93LCBrZXkpIHsKICAgICAgY29uc3QgYVZhbHVlID0gIVsnZGF0ZV9wcmljZScsICdkYXRlX3JhdGluZyddLmluY2x1ZGVzKGtleSkgPyBhUm93W2tleV0gOiBuZXcgRGF0ZShnZXREYXRlKGFSb3dba2V5XSkpOwogICAgICBjb25zdCBiVmFsdWUgPSAhWydkYXRlX3ByaWNlJywgJ2RhdGVfcmF0aW5nJ10uaW5jbHVkZXMoa2V5KSA/IGJSb3dba2V5XSA6IG5ldyBEYXRlKGdldERhdGUoYlJvd1trZXldKSk7CgogICAgICByZXR1cm4gYVZhbHVlIDwgYlZhbHVlID8gLTEgOiBhVmFsdWUgPiBiVmFsdWUgPyAxIDogMDsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Banks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Banks.vue","sourceRoot":"src/components/Pages","sourcesContent":["<template>\n    <div>\n        <div>\n            <vue-headful title=\"Оценки банков - Binvesting\" description=\"Оценки банков - Binvesting\"/>\n        </div>\n        <div class=\"container\">\n            <div class=\"row justify-content-between mt-3\">\n                <div class=\"col-12 col-md-6 order-12 order-md-0\">\n                    <h1 class=\"main-header font-weight-bold mt-md-2 mt-4\">Currency rate</h1>\n                </div>\n                <div class=\"col-12 col-md-4 d-flex justify-content-between align-items-center order-0 order-md-12\">\n                    <b-nav-form class=\"search-form\" form-class=\"align-end justify-content-between w-100\">\n                        <b-form-input\n                                id=\"searchInput\"\n                                size=\"sm\"\n                                class=\"mr-sm-2 search-input\"\n                                @keypress.enter.prevent\n                                v-model=\"banksFiltrateValue.name\"\n                                autocomplete=\"off\">\n                        </b-form-input>\n                        <b-link href=\"#\" class=\"text-dark\" @click.prevent=\"focusSearch\">\n                            <img src=\"@/assets/search.svg\" alt=\"Поиск\">\n                        </b-link>\n                    </b-nav-form>\n                    <a href=\"#\" class=\"text-dark search-close mobile-show\" @click.prevent=\"clearNameFilter\">\n                        ×\n                    </a>\n                    <b-link href=\"#\" class=\"text-dark\" @click.prevent=\"toggleFilter\">\n                        <img v-if=\"isShowFilter || isBanksFiltrate\" src=\"@/assets/filter-active.svg\" alt=\"Фильтрация\">\n                        <img v-if=\"!isShowFilter && !isBanksFiltrate\" src=\"@/assets/filter.svg\" alt=\"Фильтрация\">\n                    </b-link>\n                    <FilterBanksModal v-show=\"isShowFilter\" :banksFiltrateValue=\"banksFiltrateValue\"/>\n                </div>\n                <div class=\"col-12 mobile-show\">\n                    <v-select\n                            id=\"sortSelect\"\n                            size=\"sm\"\n                            class=\"mt-2 search-select w-100\"\n                            @keypress.enter.prevent\n                            :options=\"sortableFields\"\n                            :text-prop=\"'label'\"\n                            :value-prop=\"'key'\"\n                            v-model=\"sortBySort\"\n                            autocomplete=\"off\"\n                    />\n                    <v-select\n                            id=\"sortSelectOrdering\"\n                            size=\"sm\"\n                            class=\"mt-3 search-select w-100\"\n                            @keypress.enter.prevent\n                            :options=\"sortDirections\"\n                            :text-prop=\"'label'\"\n                            :value-prop=\"'key'\"\n                            v-model=\"sortDescSort\"\n                            autocomplete=\"off\"\n                    />\n                </div>\n            </div>\n            <div class=\"row mt-3\">\n                <div class=\"col-12\">\n                    <b-table striped hover\n                             :items=\"banks\"\n                             :fields=\"fields\"\n                             :sort-by.sync=\"sortBy\"\n                             :sort-desc.sync=\"sortDesc\"\n                             :sort-compare=\"sortCompare\"\n                             responsive=\"sm\"\n                             table-class=\"table-fixed-bank\"\n                             class=\"table-fixed-container mobile-hidden\"\n                    >\n                    </b-table>\n                    <div class=\"mobile-show\">\n                        <div class=\"bank-card container-fluid\" v-for=\"(bank, i) in sortedBanks\" :key=\"i\">\n                            <div class=\"row\">\n                                <h2 class=\"w-100 mb-4 text-center\">\n                                    {{ bank.name }}\n                                </h2>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-6 text-center\">\n                                    <p>Оценка стоимости <br> на {{ bank.date_price }}</p>\n                                    <p class=\"bank-big\">\n                                        {{ bank.value }}\n                                    </p>\n                                    <p>млн USD</p>\n                                </div>\n                                <div class=\"col-6 text-center\">\n                                    <p>ТОП надежности <br> на {{ bank.date_rating }}</p>\n                                    <p class=\"bank-big\">\n                                        {{ bank.rating }}\n                                    </p>\n                                    <p>место</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div v-if=\"banks.length <= 0\" class=\"main-header font-weight-bold w-100 text-center text-secondary\">\n                        Банки не найдены\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport {mapGetters} from 'vuex';\nimport FilterBanksModal from '@/components/Parts/FilterBanksModal';\nimport {getDate} from '@/helpers';\nimport VSelect from '@alfsnd/vue-bootstrap-select';\n\nexport default {\n  name: 'Banks',\n  components: {FilterBanksModal, VSelect},\n  mounted() {\n    this.$store.commit('setSearch', false);\n    this.$store.dispatch('initBanks');\n  },\n  computed: {\n    ...mapGetters({\n      banks: 'getBanks',\n      banksFiltrateValue: 'getBanksFiltrateValue',\n      isShowFilter: 'getIsShowBanksFilter',\n      isBanksFiltrate: 'isBanksFiltrate',\n    }),\n    sortableFields() {\n      return this.fields.filter(field => field.sortable);\n    },\n    sortBySort: {\n      get() {\n        return this.fields.find(field => field.key === this.sortBy);\n      },\n      set(sortBy) {\n        this.sortBy = sortBy.key;\n      },\n    },\n    sortDescSort: {\n      get() {\n        return this.sortDirections.find(direction => {\n          return this.sortDesc ? (direction.key === 'desc') : (direction.key === 'asc');\n        });\n      },\n      set(sortDesc) {\n        this.sortDesc = sortDesc.key === 'desc';\n      },\n    },\n    sortedBanks() {\n      return [...this.banks].sort((first, second) => {\n        const sortFlag = this.sortCompare(first, second, this.sortBy);\n        return !this.sortDesc ? sortFlag : (sortFlag === -1 ? 1 : (sortFlag === 1 ? -1 : 0));\n      });\n    },\n  },\n  data() {\n    return {\n      sortBy: 'name',\n      sortDesc: false,\n      fields: [\n        {key: 'name', label: 'Название', sortable: true},\n        {key: 'value', label: 'Оценка стоимости, млн USD', sortable: true},\n        {key: 'date_price', label: 'Дата оценки', sortable: true},\n        {key: 'rating', label: 'Место в рейтинге надежности', sortable: true},\n        {key: 'date_rating', label: 'Дата оценки', sortable: true},\n      ],\n      sortDirections: [\n        {key: 'asc', label: 'По возрастанию'},\n        {key: 'desc', label: 'По убыванию'},\n      ],\n    };\n  },\n  methods: {\n    focusSearch() {\n      document.getElementById('searchInput').focus();\n    },\n    toggleFilter() {\n      this.$store.commit('toggleIsShowBanksFilter');\n    },\n    updateFilter() {\n      this.$store.commit('filtrateBanks', this.banksFiltrateValue);\n    },\n    clearNameFilter() {\n      this.banksFiltrateValue.name = '';\n      this.updateFilter();\n    },\n    sortCompare(aRow, bRow, key) {\n      const aValue = !['date_price', 'date_rating'].includes(key) ? aRow[key] : new Date(getDate(aRow[key]));\n      const bValue = !['date_price', 'date_rating'].includes(key) ? bRow[key] : new Date(getDate(bRow[key]));\n\n      return aValue < bValue ? -1 : aValue > bValue ? 1 : 0;\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n.bank-card {\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    border-radius: 14px;\n    margin-top: 25px;\n    padding: 20px;\n}\n\n.bank-card .bank-big {\n    font-size: 40px;\n    font-weight: bold;\n    font-family: RubikBold, serif;\n}\n\n.bank-card p {\n    margin-bottom: 0;\n    font-size: 0.8rem;\n}\n\n.search-close {\n    padding-left: 3px;\n    width: 6%;\n    text-align: center;\n    line-height: 100%;\n    color: black !important;\n    font-size: 2rem;\n    font-weight: 500;\n    padding-bottom: 2px;\n}\n\n.search-close:hover {\n    text-decoration: none;\n}\n\n.search-form {\n    width: 80%;\n}\n\nform {\n    border: 1px solid;\n    border-radius: 10px;\n    padding: 2px;\n}\n\ninput {\n    border: none;\n    flex: 2;\n    background: none;\n}\n\ninput:focus, input:active {\n    outline: none;\n    border: none;\n    box-shadow: none;\n    background: none;\n}\n\n.main-header {\n    font-size: 24px;\n}\n\n.search-input {\n    width: 30px;\n    height: 30px;\n    padding: 5px;\n}\n\n@media screen and (max-device-width: 767px) {\n    .main-header {\n        font-size: 24px;\n    }\n\n    h2 {\n        font-size: 20px!important;\n    }\n\n    .search-close {\n        font-size: 1.9rem;\n        padding-left: 0;\n        width: 10%;\n        line-height: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .search-form {\n        width: 75%;\n    }\n\n    a img {\n        width: 28px;\n    }\n}\n</style>\n\n<style>\n\ntd:first-child {\n    text-align: left;\n}\n\ntd:not(:first-child) {\n    text-align: center;\n}\n\nth[role=\"columnheader\"] {\n    text-align: center;\n    vertical-align: middle !important;\n\n}\n\n.table-fixed-container {\n    width: 100%;\n    overflow-x: auto;\n}\n\n.table-fixed-bank {\n    min-width: 650px;\n}\n\n.table-fixed-bank, .table-fixed-bank tbody, .table-fixed-bank thead, .table-fixed-bank tr {\n    width: 100%;\n    display: block;\n}\n\n.table-fixed-bank td, .table-fixed-bank th {\n    display: inline-block;\n}\n\n.table-fixed-bank thead {\n\n    padding-right: 12px;\n    border-top: 2px solid #dee2e6;\n    border-bottom: 2px solid #dee2e6;\n}\n\n.table-fixed-bank thead tr {\n    display: flex;\n    align-items: center;\n    flex-wrap: nowrap;\n    flex-direction: row;\n}\n\n.table-fixed-bank thead tr th {\n    border: none;\n}\n\n.table-fixed-bank td:first-child, .table-fixed-bank th:first-child {\n    width: 40%;\n}\n\n.table-fixed-bank td, .table-fixed-bank th {\n    width: 30%;\n}\n\n.table-fixed-bank tbody {\n    overflow-y: auto;\n    max-height: 70vh;\n}\n\n.table-fixed-bank tbody tr {\n    display: flex;\n    align-items: center;\n\n}\n\n.table-fixed-bank tbody tr td {\n    border: none;\n}\n\n.table-fixed-bank td:focus, .table-fixed-bank th:focus {\n    outline: none;\n}\n\n</style>"]}]}